import Axios from "axios";

//const endpoint = `${process.env.LOCATION_API_URL}Region/`
const endpoint = `${process.env.REACT_APP_LOCATION_SERVER_API_URL}Municipality/`;

export async function getAllMunicipalities() {
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////console.log  ("ENDPOINT", endpoint)
  try {
    let allMunicipalities = await Axios.get(`${endpoint}`);
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////console.log  ("USER Municipalities", allMunicipalities)

    return allMunicipalities;
  } catch (error) {
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////console.log  ("ERROR", error)
  }
}

export async function getFilteredMunicipalities(id: string) {
  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////console.log  ("ENDPOINT", endpoint)
  try {
    let allMunicipalities = await Axios.get(`${endpoint}${id}`);
    allMunicipalities = allMunicipalities.data.map((item: any) => {
      return {
        _id: item._id,
        label: item.name,
      };
    });

    return allMunicipalities;
  } catch (error) {
    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////console.log  ("ERROR", error)
  }
}
